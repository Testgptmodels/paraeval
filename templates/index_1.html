<!DOCTYPE html>
<html>
<head>
  <title>PARAEVAL: Paraphrase Quality Evaluator</title>
  <style>
    body { font-family: Arial; background:#f4f6f9; }
    table { width:100%; border-collapse:collapse; }
    th, td { padding:12px; border:1px solid #ccc; vertical-align:top; }
    th { background:#222; color:white; }
    .best { background:#d9f7d9; }
    button { padding:8px 14px; cursor:pointer; }
  </style>
  <script>
    function copyText(text) {
      navigator.clipboard.writeText(text);
      alert("Copied");
    }
  </script>
</head>
<body>

<h2>PARAEVAL: Paraphrase Quality Evaluator</h2>

<form method="post">
  <div>
    Readability:
    <select name="readability">
      <option {{'selected' if readability=='Undergraduate'}}>Undergraduate</option>
      <option {{'selected' if readability=='Graduate'}}>Graduate</option>
    </select>
  </div>

  <div>
    Semantic Similarity Threshold: {{semantic}}%
    <input type="range" name="semantic" min="0" max="100" value="{{semantic}}">
  </div>

  <div>
    Lexical Reuse Limit: {{lexical}}%
    <input type="range" name="lexical" min="0" max="100" value="{{lexical}}">
  </div>

  <textarea name="passage" rows="6" style="width:100%">{{passage}}</textarea>
  <br><br>
  <button type="submit">Submit</button>
  <button type="reset">Reset</button>
</form>

{% if results %}
<table>
<tr>
  <th>Model / Human</th>
  <th>Passage</th>
  <th>Statistics</th>
  <th>Copy</th>
</tr>

{% for r in results %}
<tr class="{% if loop.index0 == best_index %}best{% endif %}">
  <td>{{r.model}}</td>
  <td>{{r.text}}</td>
  <td>
    Semantic Similarity = {{r.semantic}}%<br>
    Lexical Reuse = {{r.lexical}}%<br>
    Joint Decision = {{r.decision}}<br>
    Words = {{r.words}}<br>
    Sentences = {{r.sentences}}
  </td>
  <td>
    <button onclick="copyText(`{{r.text}}`)">Copy</button>
  </td>
</tr>
{% endfor %}
</table>
{% endif %}

</body>
</html>
